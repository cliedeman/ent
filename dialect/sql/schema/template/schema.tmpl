{{/*
Copyright 2019-present Facebook Inc. All rights reserved.
This source code is licensed under the Apache 2.0 license found
in the LICENSE file in the root directory of this source tree.
*/}}
{{ define "schema" }}
package {{ $.PackageName }}

import (
    "github.com/facebook/ent"
    "github.com/facebook/ent/dialect"
    "github.com/facebook/ent/dialect/entsql"
    "github.com/facebook/ent/schema"
    "github.com/facebook/ent/schema/field"
)

// {{ $.Name }} holds the schema definition for the {0} entity.
type {{ $.Name }} struct {
    ent.Schema
}

// Fields of the {{ $.Name }}.
func ({{ $.Name }}) Fields() []ent.Field {
    return []ent.Field{
    {{- range $.Fields }}
        {{ template "field" . }}
    {{- end }}
    }
}

func ({{ $.Name }}) Annotations() []schema.Annotation {
    return []schema.Annotation{
        entsql.Annotation{Table: "{{ $.TableName}}"},
    }
}

func ({{ $.Name }}) Mixin() []ent.Mixin {
    return []ent.Mixin{}
}
{{ end }}